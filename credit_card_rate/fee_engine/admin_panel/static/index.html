<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fee and Location Engine</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>游눱 Fee and Location Engine</h1>
            <p>Manage Card Rates, Fees, and Locations</p>
        </header>

        <!-- Login Modal -->
        <div id="loginModal" class="modal">
            <div class="modal-content">
                <h2>Admin Login</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <div id="loginError" class="error-message"></div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
            </div>
        </div>

        <!-- Main Content (hidden until login) -->
        <div id="mainContent" style="display: none;">
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('card-fees')">Card Fees</button>
                <button class="tab-btn" onclick="switchTab('retail-assets')">Retail Asset Charges</button>
                <button class="tab-btn" onclick="switchTab('skybanking-fees')">Skybanking Fees</button>
                <button class="tab-btn" onclick="switchTab('branches')">Branches</button>
                <button class="tab-btn" onclick="switchTab('machines')">ATM/CRM/RTDM</button>
                <button class="tab-btn" onclick="switchTab('priority-centers')">Priority Centers</button>
            </div>

            <!-- Card Fees Tab -->
            <div id="card-fees-tab" class="tab-content active">
            <!-- Filters Section -->
            <div class="filters-section">
                <h2>Filters</h2>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Charge Type:</label>
                        <select id="filterChargeType">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Card Category:</label>
                        <select id="filterCardCategory">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Card Network:</label>
                        <select id="filterCardNetwork">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Card Product:</label>
                        <select id="filterCardProduct">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Product Line:</label>
                        <select id="filterProductLine">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Status:</label>
                        <select id="filterStatus">
                            <option value="">Active Only</option>
                            <option value="ACTIVE">Active</option>
                            <option value="INACTIVE">Inactive</option>
                        </select>
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="applyFilters" class="btn btn-primary">Apply Filters</button>
                    <button id="clearFilters" class="btn btn-secondary">Clear</button>
                    <button id="exportCardFees" class="btn btn-info">游닌 Export to CSV</button>
                    <button id="addNewRule" class="btn btn-success">+ Add New Rule</button>
                </div>
            </div>

            <!-- Rules Table -->
            <div class="table-section">
                <div class="table-header">
                    <h2>Fee Rules</h2>
                    <div class="table-info">
                        <span id="totalCount">Total: 0</span>
                        <span id="showingCount">Showing: 0</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="rulesTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Charge Type</th>
                                <th>Category</th>
                                <th>Network</th>
                                <th>Product</th>
                                <th>Fee Value</th>
                                <th>Unit</th>
                                <th>Basis</th>
                                <th>Effective From</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="rulesTableBody">
                            <tr>
                                <td colspan="11" class="loading">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button id="prevPage" class="btn btn-secondary" disabled>Previous</button>
                    <span id="pageInfo">Page 1</span>
                    <button id="nextPage" class="btn btn-secondary">Next</button>
                </div>
            </div>
            </div>

            <!-- Retail Asset Charges Tab -->
            <div id="retail-assets-tab" class="tab-content">
            <!-- Filters Section -->
            <div class="filters-section">
                <h2>Filters</h2>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Loan Product:</label>
                        <select id="retailFilterLoanProduct">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Charge Type:</label>
                        <select id="retailFilterChargeType">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Status:</label>
                        <select id="retailFilterStatus">
                            <option value="">Active Only</option>
                            <option value="ACTIVE">Active</option>
                            <option value="INACTIVE">Inactive</option>
                        </select>
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="retailApplyFilters" class="btn btn-primary">Apply Filters</button>
                    <button id="retailClearFilters" class="btn btn-secondary">Clear</button>
                    <button id="exportRetailCharges" class="btn btn-info">游닌 Export to CSV</button>
                    <button id="addNewRetailCharge" class="btn btn-success">+ Add New Charge</button>
                </div>
            </div>

            <!-- Charges Table -->
            <div class="table-section">
                <div class="table-header">
                    <h2>Retail Asset Charges</h2>
                    <div class="table-info">
                        <span id="retailTotalCount">Total: 0</span>
                        <span id="retailShowingCount">Showing: 0</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="retailChargesTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Loan Product</th>
                                <th>Charge Type</th>
                                <th>Description</th>
                                <th>Fee Value</th>
                                <th>Unit</th>
                                <th>Effective From</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="retailChargesTableBody">
                            <tr>
                                <td colspan="9" class="loading">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button id="retailPrevPage" class="btn btn-secondary" disabled>Previous</button>
                    <span id="retailPageInfo">Page 1</span>
                    <button id="retailNextPage" class="btn btn-secondary">Next</button>
                </div>
            </div>
            </div>

            <!-- Branches Tab -->
            <div id="branches-tab" class="tab-content">
            <!-- Filters Section -->
            <div class="filters-section">
                <h2>Filters</h2>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>City:</label>
                        <select id="branchFilterCity">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Region:</label>
                        <select id="branchFilterRegion">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Search:</label>
                        <input type="text" id="branchFilterSearch" placeholder="Search branches...">
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="branchApplyFilters" class="btn btn-primary">Apply Filters</button>
                    <button id="branchClearFilters" class="btn btn-secondary">Clear</button>
                    <button id="exportBranches" class="btn btn-info" onclick="exportBranchesToCSV()">游닌 Export to CSV</button>
                </div>
            </div>

            <!-- Branches Table -->
            <div class="table-section">
                <div class="table-header">
                    <h2>Branches</h2>
                    <div class="table-info">
                        <span id="branchTotalCount">Total: 0</span>
                        <span id="branchShowingCount">Showing: 0</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="branchesTable">
                        <thead>
                            <tr>
                                <th>Branch Code</th>
                                <th>Branch Name</th>
                                <th>Address</th>
                                <th>City</th>
                                <th>Region</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="branchesTableBody">
                            <tr>
                                <td colspan="7" class="loading">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button id="branchPrevPage" class="btn btn-secondary" disabled>Previous</button>
                    <span id="branchPageInfo">Page 1</span>
                    <button id="branchNextPage" class="btn btn-secondary">Next</button>
                </div>
            </div>
            </div>

            <!-- ATM/CRM/RTDM Tab -->
            <div id="machines-tab" class="tab-content">
            <!-- Filters Section -->
            <div class="filters-section">
                <h2>Filters</h2>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Machine Type:</label>
                        <select id="machineFilterType">
                            <option value="">All</option>
                            <option value="atm">ATM</option>
                            <option value="crm">CRM</option>
                            <option value="rtdm">RTDM</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>City:</label>
                        <select id="machineFilterCity">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Region:</label>
                        <select id="machineFilterRegion">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Search:</label>
                        <input type="text" id="machineFilterSearch" placeholder="Search machines...">
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="machineApplyFilters" class="btn btn-primary">Apply Filters</button>
                    <button id="machineClearFilters" class="btn btn-secondary">Clear</button>
                    <button id="exportMachines" class="btn btn-info" onclick="exportMachinesToCSV()">游닌 Export to CSV</button>
                </div>
            </div>

            <!-- Machines Table -->
            <div class="table-section">
                <div class="table-header">
                    <h2>ATM/CRM/RTDM Locations</h2>
                    <div class="table-info">
                        <span id="machineTotalCount">Total: 0</span>
                        <span id="machineShowingCount">Showing: 0</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="machinesTable">
                        <thead>
                            <tr>
                                <th>Machine Type</th>
                                <th>Count</th>
                                <th>Address</th>
                                <th>City</th>
                                <th>Region</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="machinesTableBody">
                            <tr>
                                <td colspan="6" class="loading">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button id="machinePrevPage" class="btn btn-secondary" disabled>Previous</button>
                    <span id="machinePageInfo">Page 1</span>
                    <button id="machineNextPage" class="btn btn-secondary">Next</button>
                </div>
            </div>
            </div>

            <!-- Priority Centers Tab -->
            <div id="priority-centers-tab" class="tab-content">
            <!-- Filters Section -->
            <div class="filters-section">
                <h2>Filters</h2>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>City:</label>
                        <select id="priorityFilterCity">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Region:</label>
                        <select id="priorityFilterRegion">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Search:</label>
                        <input type="text" id="priorityFilterSearch" placeholder="Search priority centers...">
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="priorityApplyFilters" class="btn btn-primary">Apply Filters</button>
                    <button id="priorityClearFilters" class="btn btn-secondary">Clear</button>
                    <button id="exportPriorityCenters" class="btn btn-info" onclick="exportPriorityCentersToCSV()">游닌 Export to CSV</button>
                </div>
            </div>

            <!-- Priority Centers Table -->
            <div class="table-section">
                <div class="table-header">
                    <h2>Priority Centers</h2>
                    <div class="table-info">
                        <span id="priorityTotalCount">Total: 0</span>
                        <span id="priorityShowingCount">Showing: 0</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="priorityCentersTable">
                        <thead>
                            <tr>
                                <th>Center Name</th>
                                <th>City</th>
                                <th>Region</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="priorityCentersTableBody">
                            <tr>
                                <td colspan="4" class="loading">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button id="priorityPrevPage" class="btn btn-secondary" disabled>Previous</button>
                    <span id="priorityPageInfo">Page 1</span>
                    <button id="priorityNextPage" class="btn btn-secondary">Next</button>
                </div>
            </div>
            </div>

            <!-- Skybanking Fees Tab -->
            <div id="skybanking-fees-tab" class="tab-content">
            <!-- Filters Section -->
            <div class="filters-section">
                <h2>Filters</h2>
                <div class="filters-grid">
                    <div class="filter-group">
                        <label>Charge Type:</label>
                        <select id="skybankingFilterChargeType">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Product:</label>
                        <select id="skybankingFilterProduct">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Network:</label>
                        <select id="skybankingFilterNetwork">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Status:</label>
                        <select id="skybankingFilterStatus">
                            <option value="">Active Only</option>
                            <option value="ACTIVE">Active</option>
                            <option value="INACTIVE">Inactive</option>
                        </select>
                    </div>
                </div>
                <div class="filter-actions">
                    <button id="skybankingApplyFilters" class="btn btn-primary">Apply Filters</button>
                    <button id="skybankingClearFilters" class="btn btn-secondary">Clear</button>
                    <button id="exportSkybankingFees" class="btn btn-info">游닌 Export to CSV</button>
                    <button id="skybankingAddNewFee" class="btn btn-success">+ Add New Fee</button>
                </div>
            </div>

            <!-- Skybanking Fees Table -->
            <div class="table-section">
                <div class="table-header">
                    <h2>Skybanking Fees</h2>
                    <div class="table-info">
                        <span id="skybankingTotalCount">Total: 0</span>
                        <span id="skybankingShowingCount">Showing: 0</span>
                    </div>
                </div>
                <div class="table-container">
                    <table id="skybankingFeesTable">
                        <thead>
                            <tr>
                                <th>Charge Type</th>
                                <th>Product Name</th>
                                <th>Network</th>
                                <th>Fee Amount</th>
                                <th>Fee Unit</th>
                                <th>Fee Basis</th>
                                <th>Conditional</th>
                                <th>Status</th>
                                <th>Effective From</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="skybankingFeesTableBody">
                            <tr>
                                <td colspan="10" class="loading">Loading...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="pagination">
                    <button id="skybankingPrevPage" class="btn btn-secondary" disabled>Previous</button>
                    <span id="skybankingPageInfo">Page 1</span>
                    <button id="skybankingNextPage" class="btn btn-secondary">Next</button>
                </div>
            </div>
            </div>
        </div>

        <!-- Edit Modal -->
        <div id="editModal" class="modal">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <h2 id="modalTitle">Edit Fee Rule</h2>
                    <button class="close-btn" onclick="closeEditModal()">&times;</button>
                </div>
                <form id="editForm">
                    <input type="hidden" id="editFeeId">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="editChargeType">Charge Type *</label>
                            <input type="text" id="editChargeType" required>
                        </div>
                        <div class="form-group">
                            <label for="editCardCategory">Card Category *</label>
                            <select id="editCardCategory" required>
                                <option value="CREDIT">CREDIT</option>
                                <option value="DEBIT">DEBIT</option>
                                <option value="PREPAID">PREPAID</option>
                                <option value="ANY">ANY</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editCardNetwork">Card Network *</label>
                            <input type="text" id="editCardNetwork" required>
                        </div>
                        <div class="form-group">
                            <label for="editCardProduct">Card Product *</label>
                            <input type="text" id="editCardProduct" required>
                        </div>
                        <div class="form-group">
                            <label for="editFullCardName">Full Card Name</label>
                            <input type="text" id="editFullCardName">
                        </div>
                        <div class="form-group">
                            <label for="editFeeValue">Fee Value *</label>
                            <input type="number" id="editFeeValue" step="0.0001" required>
                        </div>
                        <div class="form-group">
                            <label for="editFeeUnit">Fee Unit *</label>
                            <select id="editFeeUnit" required>
                                <option value="BDT">BDT</option>
                                <option value="USD">USD</option>
                                <option value="PERCENT">PERCENT</option>
                                <option value="COUNT">COUNT</option>
                                <option value="TEXT">TEXT</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editFeeBasis">Fee Basis *</label>
                            <select id="editFeeBasis" required>
                                <option value="PER_TXN">PER_TXN</option>
                                <option value="PER_YEAR">PER_YEAR</option>
                                <option value="PER_MONTH">PER_MONTH</option>
                                <option value="PER_VISIT">PER_VISIT</option>
                                <option value="ON_OUTSTANDING">ON_OUTSTANDING</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editMinFeeValue">Min Fee Value</label>
                            <input type="number" id="editMinFeeValue" step="0.0001">
                        </div>
                        <div class="form-group">
                            <label for="editMinFeeUnit">Min Fee Unit</label>
                            <select id="editMinFeeUnit">
                                <option value="">None</option>
                                <option value="BDT">BDT</option>
                                <option value="USD">USD</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editMaxFeeValue">Max Fee Value</label>
                            <input type="number" id="editMaxFeeValue" step="0.0001">
                        </div>
                        <div class="form-group">
                            <label for="editFreeEntitlementCount">Free Entitlement Count</label>
                            <input type="number" id="editFreeEntitlementCount">
                        </div>
                        <div class="form-group">
                            <label for="editConditionType">Condition Type *</label>
                            <select id="editConditionType" required>
                                <option value="NONE">NONE</option>
                                <option value="WHICHEVER_HIGHER">WHICHEVER_HIGHER</option>
                                <option value="FREE_UPTO_N">FREE_UPTO_N</option>
                                <option value="NOTE_BASED">NOTE_BASED</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editNoteReference">Note Reference</label>
                            <input type="text" id="editNoteReference">
                        </div>
                        <div class="form-group">
                            <label for="editPriority">Priority *</label>
                            <input type="number" id="editPriority" value="100" required>
                        </div>
                        <div class="form-group">
                            <label for="editStatus">Status *</label>
                            <select id="editStatus" required>
                                <option value="ACTIVE">ACTIVE</option>
                                <option value="INACTIVE">INACTIVE</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editProductLine">Product Line *</label>
                            <select id="editProductLine" required>
                                <option value="CREDIT_CARDS">CREDIT_CARDS</option>
                                <option value="SKYBANKING">SKYBANKING</option>
                                <option value="PRIORITY_BANKING">PRIORITY_BANKING</option>
                                <option value="RETAIL_ASSETS">RETAIL_ASSETS</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editEffectiveFrom">Effective From *</label>
                            <input type="date" id="editEffectiveFrom" required>
                        </div>
                        <div class="form-group">
                            <label for="editEffectiveTo">Effective To</label>
                            <input type="date" id="editEffectiveTo">
                        </div>
                        <div class="form-group full-width">
                            <label for="editRemarks">Remarks</label>
                            <textarea id="editRemarks" rows="3"></textarea>
                        </div>
                    </div>
                    <div id="editError" class="error-message"></div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" onclick="closeEditModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Branch Modal -->
    <div id="editBranchModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Edit Branch</h2>
            <form id="editBranchForm">
                <input type="hidden" id="editBranchId">
                <div class="form-group">
                    <label for="editBranchCode">Branch Code:</label>
                    <input type="text" id="editBranchCode" required>
                </div>
                <div class="form-group">
                    <label for="editBranchName">Branch Name:</label>
                    <input type="text" id="editBranchName" required>
                </div>
                <div class="form-group">
                    <label for="editBranchStreet">Street Address:</label>
                    <input type="text" id="editBranchStreet" required>
                </div>
                <div class="form-group">
                    <label for="editBranchCity">City:</label>
                    <select id="editBranchCity" required></select>
                </div>
                <div class="form-group">
                    <label for="editBranchRegion">Region:</label>
                    <select id="editBranchRegion" required></select>
                </div>
                <div class="form-group">
                    <label for="editBranchZipCode">ZIP Code:</label>
                    <input type="text" id="editBranchZipCode">
                </div>
                <div class="form-group">
                    <label for="editBranchStatus">Status:</label>
                    <select id="editBranchStatus" required>
                        <option value="ACTIVE">Active</option>
                        <option value="INACTIVE">Inactive</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="editBranchIsHeadOffice"> Is Head Office
                    </label>
                </div>
                <div id="editBranchError" class="error-message"></div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditBranchModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Machine Modal -->
    <div id="editMachineModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Edit Machine</h2>
            <form id="editMachineForm">
                <input type="hidden" id="editMachineId">
                <div class="form-group">
                    <label for="editMachineType">Machine Type:</label>
                    <select id="editMachineType" required>
                        <option value="ATM">ATM</option>
                        <option value="CRM">CRM</option>
                        <option value="RTDM">RTDM</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="editMachineCount">Count:</label>
                    <input type="number" id="editMachineCount" min="1" value="1" required>
                </div>
                <div class="form-group">
                    <label for="editMachineStreet">Street Address:</label>
                    <input type="text" id="editMachineStreet" required>
                </div>
                <div class="form-group">
                    <label for="editMachineCity">City:</label>
                    <select id="editMachineCity" required></select>
                </div>
                <div class="form-group">
                    <label for="editMachineRegion">Region:</label>
                    <select id="editMachineRegion" required></select>
                </div>
                <div class="form-group">
                    <label for="editMachineZipCode">ZIP Code:</label>
                    <input type="text" id="editMachineZipCode">
                </div>
                <div id="editMachineError" class="error-message"></div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditMachineModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Priority Center Modal -->
    <div id="editPriorityModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>Edit Priority Center</h2>
            <form id="editPriorityForm">
                <input type="hidden" id="editPriorityId">
                <div class="form-group">
                    <label for="editPriorityName">Center Name:</label>
                    <input type="text" id="editPriorityName" required>
                </div>
                <div class="form-group">
                    <label for="editPriorityCity">City:</label>
                    <select id="editPriorityCity" required></select>
                </div>
                <div class="form-group">
                    <label for="editPriorityRegion">Region:</label>
                    <select id="editPriorityRegion" required></select>
                </div>
                <div id="editPriorityError" class="error-message"></div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditPriorityModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Edit Retail Asset Charge Modal -->
    <div id="editRetailModal" class="modal" style="display: none;">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>Edit Retail Asset Charge</h2>
                <button class="close-btn" onclick="closeEditRetailModal()">&times;</button>
            </div>
            <form id="editRetailForm">
                <input type="hidden" id="editRetailChargeId">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="editRetailLoanProduct">Loan Product *</label>
                        <input type="text" id="editRetailLoanProduct" required>
                    </div>
                    <div class="form-group">
                        <label for="editRetailLoanProductName">Loan Product Name *</label>
                        <input type="text" id="editRetailLoanProductName" required>
                    </div>
                    <div class="form-group">
                        <label for="editRetailChargeType">Charge Type *</label>
                        <input type="text" id="editRetailChargeType" required>
                    </div>
                    <div class="form-group">
                        <label for="editRetailChargeDescription">Charge Description *</label>
                        <textarea id="editRetailChargeDescription" rows="2" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="editRetailFeeValue">Fee Value</label>
                        <input type="number" id="editRetailFeeValue" step="0.0001">
                    </div>
                    <div class="form-group">
                        <label for="editRetailFeeUnit">Fee Unit *</label>
                        <select id="editRetailFeeUnit" required>
                            <option value="BDT">BDT</option>
                            <option value="USD">USD</option>
                            <option value="PERCENT">PERCENT</option>
                            <option value="COUNT">COUNT</option>
                            <option value="TEXT">TEXT</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editRetailFeeBasis">Fee Basis *</label>
                        <select id="editRetailFeeBasis" required>
                            <option value="PER_TXN">PER_TXN</option>
                            <option value="PER_YEAR">PER_YEAR</option>
                            <option value="PER_MONTH">PER_MONTH</option>
                            <option value="PER_REQUEST">PER_REQUEST</option>
                            <option value="ON_OUTSTANDING">ON_OUTSTANDING</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editRetailStatus">Status *</label>
                        <select id="editRetailStatus" required>
                            <option value="ACTIVE">ACTIVE</option>
                            <option value="INACTIVE">INACTIVE</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editRetailEffectiveFrom">Effective From *</label>
                        <input type="date" id="editRetailEffectiveFrom" required>
                    </div>
                    <div class="form-group">
                        <label for="editRetailEffectiveTo">Effective To</label>
                        <input type="date" id="editRetailEffectiveTo">
                    </div>
                    <div class="form-group">
                        <label for="editRetailPriority">Priority</label>
                        <input type="number" id="editRetailPriority" value="100">
                    </div>
                    <div class="form-group full-width">
                        <label for="editRetailRemarks">Remarks</label>
                        <textarea id="editRetailRemarks" rows="3"></textarea>
                    </div>
                </div>
                <div id="editRetailError" class="error-message"></div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeEditRetailModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>

